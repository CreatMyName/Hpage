!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){
/*! art-template@4.13.1 for browser | https://github.com/aui/art-template */
"undefined"!=typeof self&&self,e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";var r=n(6),i=n(2),o=n(22),s=function(e,t){t.onerror(e,t);var n=function(){return"{Template Error}"};return n.mappings=[],n.sourcesContent=[],n},a=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof t?n=t:n.source=t,t=(n=i.$extend(n)).source,!0===n.debug&&(n.cache=!1,n.minimize=!1,n.compileDebug=!0),n.compileDebug&&(n.minimize=!1),n.filename&&(n.filename=n.resolveFilename(n.filename,n));var a=n.filename,u=n.cache,c=n.caches;if(u&&a){var l=c.get(a);if(l)return l}if(!t)try{t=n.loader(a,n),n.source=t}catch(e){var f=new o({name:"CompileError",path:a,message:"template not found: "+e.message,stack:e.stack});if(n.bail)throw f;return s(f,n)}var p=void 0,h=new r(n);try{p=h.build()}catch(f){if(f=new o(f),n.bail)throw f;return s(f,n)}var d=function(t,r){try{return p(t,r)}catch(i){if(!n.compileDebug)return n.cache=!1,n.compileDebug=!0,e(n)(t,r);if(i=new o(i),n.bail)throw i;return s(i,n)()}};return d.mappings=p.mappings,d.sourcesContent=p.sourcesContent,d.toString=function(){return p.toString()},u&&a&&c.set(a,d),d};a.Compiler=r,e.exports=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0]};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},function(e,t,n){"use strict";function r(){this.$extend=function(e){return o(e=e||{},e instanceof r?e:this)}}var i=n(10),o=n(12),s=n(13),a=n(14),u=n(15),c=n(16),l=n(17),f=n(18),p=n(19),h=n(21),d={source:null,filename:null,rules:[f,l],escape:!0,debug:!1,bail:!0,cache:!0,minimize:!0,compileDebug:!1,resolveFilename:h,include:s,htmlMinifier:p,htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:!0,minifyJS:!0,ignoreCustomFragments:[]},onerror:a,loader:c,caches:u,root:"/",extname:".art",ignore:[],imports:i};r.prototype=d,e.exports=new r},function(e,t){},function(e,t,n){"use strict";var r=n(5),i=n(0),o=n(23),s=function(e,t){return t instanceof Object?r({filename:e},t):i({filename:e,source:t})};s.render=r,s.compile=i,s.defaults=o,e.exports=s},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r(e,n)(t)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(7),a=n(9),u="$data",c="$imports",l="print",f="include",p="extend",h="block",d="$$out",m="$$line",v="$$blocks",y="$$slice",b="$$from",g="$$options",x=function(e,t){return Object.hasOwnProperty.call(e,t)},w=JSON.stringify,k=function(){function e(t){var n,o,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var x=t.source,w=t.minimize,k=t.htmlMinifier;if(this.options=t,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=[u,c,g].concat(i(t.ignore)),this.internal=(r(n={},d,"''"),r(n,m,"[0,0]"),r(n,v,"arguments[1]||{}"),r(n,b,"null"),r(n,l,"function(){var s=''.concat.apply('',arguments);$$out+=s;return s}"),r(n,f,"function(src,data){var s="+g+".include(src,data||"+u+",arguments[2]||"+v+","+g+");"+d+"+=s;return s}"),r(n,p,"function(from){$$from=from}"),r(n,y,"function(c,p,s){p=$$out;$$out='';c();s=$$out;$$out=p+s;return s}"),r(n,h,"function(){var a=arguments,s;if(typeof a[0]==='function'){return "+y+"(a[0])}else if("+b+"){if(!"+v+"[a[0]]){"+v+"[a[0]]="+y+"(a[1])}else{"+d+"+="+v+"[a[0]]}}else{s="+v+"[a[0]];if(typeof s==='string'){"+d+"+=s}else{s="+y+"(a[1])}return s}}"),n),this.dependencies=(r(o={},l,[d]),r(o,f,[d,g,u,v]),r(o,p,[b,f]),r(o,h,[y,b,d,v]),o),this.importContext(d),t.compileDebug&&this.importContext(m),w)try{x=k(x,t)}catch(e){}this.source=x,this.getTplTokens(x,t.rules,this).forEach((function(e){e.type===a.TYPE_STRING?s.parseString(e):s.parseExpression(e)}))}return o(e,[{key:"getTplTokens",value:function(){return a.apply(void 0,arguments)}},{key:"getEsTokens",value:function(e){return s(e)}},{key:"getVariables",value:function(e){var t=!1;return e.filter((function(e){return"whitespace"!==e.type&&"comment"!==e.type})).filter((function(e){return"name"===e.type&&!t||(t="punctuator"===e.type&&"."===e.value,!1)})).map((function(e){return e.value}))}},{key:"importContext",value:function(e){var t=this,n="",r=this.internal,i=this.dependencies,o=this.ignore,s=this.context,a=this.options.imports,l=this.CONTEXT_MAP;x(l,e)||-1!==o.indexOf(e)||(x(r,e)?(n=r[e],x(i,e)&&i[e].forEach((function(e){return t.importContext(e)}))):n="$escape"===e||"$each"===e||x(a,e)?c+"."+e:u+"."+e,l[e]=n,s.push({name:e,value:n}))}},{key:"parseString",value:function(e){var t=e.value;if(t){var n=d+"+="+w(t);this.scripts.push({source:t,tplToken:e,code:n})}}},{key:"parseExpression",value:function(e){var t=this,n=e.value,r=e.script,i=r.output,o=this.options.escape,s=r.code;i&&(s=!1===o||i===a.TYPE_RAW?d+"+="+r.code:d+"+=$escape("+r.code+")");var u=this.getEsTokens(s);this.getVariables(u).forEach((function(e){return t.importContext(e)})),this.scripts.push({source:n,tplToken:e,code:s})}},{key:"checkExpression",value:function(e){for(var t=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],n=0;n<t.length;){if(t[n][0].test(e)){var r;e=(r=e).replace.apply(r,i(t[n]));break}n++}try{return new Function(e),!0}catch(e){return!1}}},{key:"build",value:function(){var e=this.options,t=this.context,n=this.scripts,r=this.stacks,i=this.source,o=e.filename,s=e.imports,l=[],h=x(this.CONTEXT_MAP,p),y=0,k=function(e,t){var n=t.line,i=t.start,o={generated:{line:r.length+y+1,column:1},original:{line:n+1,column:i+1}};return y+=e.split(/\n/).length-1,o},E=function(e){return e.replace(/^[\t ]+|[\t ]$/g,"")};r.push("function("+u+"){"),r.push("'use strict'"),r.push(u+"="+u+"||{}"),r.push("var "+t.map((function(e){return e.name+"="+e.value})).join(",")),e.compileDebug?(r.push("try{"),n.forEach((function(e){e.tplToken.type===a.TYPE_EXPRESSION&&r.push(m+"=["+[e.tplToken.line,e.tplToken.start].join(",")+"]"),l.push(k(e.code,e.tplToken)),r.push(E(e.code))})),r.push("}catch(error){"),r.push("throw {"+["name:'RuntimeError'","path:"+w(o),"message:error.message","line:$$line[0]+1","column:$$line[1]+1","source:"+w(i),"stack:error.stack"].join(",")+"}"),r.push("}")):n.forEach((function(e){l.push(k(e.code,e.tplToken)),r.push(E(e.code))})),h&&(r.push(d+"=''"),r.push(f+"("+b+","+u+","+v+")")),r.push("return "+d),r.push("}");var $=r.join("\n");try{var O=new Function(c,g,"return "+$)(s,e);return O.mappings=l,O.sourcesContent=[i],O}catch(e){for(var j=0,T=0,A=0,_=void 0;j<n.length;){var M=n[j];if(!this.checkExpression(M.code)){T=M.tplToken.line,A=M.tplToken.start,_=M.code;break}j++}throw{name:"CompileError",path:o,message:e.message,line:T+1,column:A+1,source:i,generated:_,stack:e.stack}}}}]),e}();k.CONSTS={DATA:u,IMPORTS:c,PRINT:l,INCLUDE:f,EXTEND:p,BLOCK:h,OPTIONS:g,OUT:d,LINE:m,BLOCKS:v,SLICE:y,FROM:b,ESCAPE:"$escape",EACH:"$each"},e.exports=k},function(e,t,n){"use strict";var r=n(8),i=n(1).default,o=n(1).matchToToken;e.exports=function(e){return e.match(i).map((function(e){return i.lastIndex=0,o(i.exec(e))})).map((function(e){return"name"===e.type&&r(e.value)&&(e.type="keyword"),e}))}},function(e,t,n){"use strict";var r={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};e.exports=function(e){return r.hasOwnProperty(e)}},function(e,t,n){"use strict";function r(e){var t=new String(e.value);return t.line=e.line,t.start=e.start,t.end=e.end,t}function i(e,t,n){this.type=e,this.value=t,this.script=null,n?(this.line=n.line+n.value.split(/\n/).length-1,this.line===n.line?this.start=n.end:this.start=n.value.length-n.value.lastIndexOf("\n")-1):(this.line=0,this.start=0),this.end=this.start+this.value.length}var o=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[new i("string",e)],s=0;s<t.length;s++)for(var a=t[s],u=a.test.ignoreCase?"ig":"g",c=new RegExp(a.test.source,u),l=0;l<o.length;l++){var f=o[l],p=o[l-1];if("string"===f.type){for(var h=void 0,d=0,m=[],v=f.value;null!==(h=c.exec(v));)h.index>d&&(p=new i("string",v.slice(d,h.index),p),m.push(p)),p=new i("expression",h[0],p),h[0]=r(p),p.script=a.use.apply(n,h),m.push(p),d=h.index+h[0].length;d<v.length&&(p=new i("string",v.slice(d),p),m.push(p)),o.splice.apply(o,[l,1].concat(m)),l+=m.length-1}}return o};o.TYPE_STRING="string",o.TYPE_EXPRESSION="expression",o.TYPE_RAW="raw",o.TYPE_ESCAPE="escape",e.exports=o},function(e,t,n){"use strict";(function(t){/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=Object.create(n),i=/["&'<>]/;r.$escape=function(e){return function(e){var t=""+e,n=i.exec(t);if(!n)return e;var r="",o=void 0,s=void 0,a=void 0;for(o=n.index,s=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:a="&#34;";break;case 38:a="&#38;";break;case 39:a="&#39;";break;case 60:a="&#60;";break;case 62:a="&#62;";break;default:continue}s!==o&&(r+=t.substring(s,o)),s=o+1,r+=a}return s!==o?r+t.substring(s,o):r}(function e(t){return"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t)),t}(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=r}).call(t,n(11))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=Object.prototype.toString,i=function(e){return null===e?"Null":r.call(e).slice(8,-1)};e.exports=function e(t,n){var r=void 0,o=i(t);if("Object"===o?r=Object.create(n||{}):"Array"===o&&(r=[].concat(n||[])),r){for(var s in t)Object.hasOwnProperty.call(t,s)&&(r[s]=e(t[s],r[s]));return r}return t}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){return n(0)(i=i.$extend({filename:i.resolveFilename(e,i),bail:!0,source:null}))(t,r)}},function(e,t,n){"use strict";e.exports=function(e){console.error(e.name,e.message)}},function(e,t,n){"use strict";var r={__data:Object.create(null),set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]},reset:function(){this.__data={}}};e.exports=r},function(e,t,n){"use strict";var r="undefined"==typeof window;e.exports=function(e){if(r)return n(3).readFileSync(e,"utf8");var t=document.getElementById(e);return t.value||t.innerHTML}},function(e,t,n){"use strict";var r={test:/{{([@#]?)[ \t]*(\/?)([\w\W]*?)[ \t]*}}/,use:function(e,t,n,i){var o=this.options,s=this.getEsTokens(i),a=s.map((function(e){return e.value})),u={},c=void 0,l=!!t&&"raw",f=n+a.shift(),p=function(t,n){console.warn((o.filename||"anonymous")+":"+(e.line+1)+":"+(e.start+1)+"\nTemplate upgrade: {{"+t+"}} -> {{"+n+"}}")};switch("#"===t&&p("#value","@value"),f){case"set":i="var "+a.join("").trim();break;case"if":i="if("+a.join("").trim()+"){";break;case"else":var h=a.indexOf("if");~h?(a.splice(0,h+1),i="}else if("+a.join("").trim()+"){"):i="}else{";break;case"/if":i="}";break;case"each":(c=r._split(s)).shift(),"as"===c[1]&&(p("each object as value index","each object value index"),c.splice(1,1)),i="$each("+(c[0]||"$data")+",function("+(c[1]||"$value")+","+(c[2]||"$index")+"){";break;case"/each":i="})";break;case"block":(c=r._split(s)).shift(),i="block("+c.join(",").trim()+",function(){";break;case"/block":i="})";break;case"echo":f="print",p("echo value","value");case"print":case"include":case"extend":if(0!==a.join("").trim().indexOf("(")){(c=r._split(s)).shift(),i=f+"("+c.join(",")+")";break}default:if(~a.indexOf("|")){var d=s.reduce((function(e,t){var n=t.value,r=t.type;return"|"===n?e.push([]):"whitespace"!==r&&"comment"!==r&&(e.length||e.push([]),":"===n&&1===e[e.length-1].length?p("value | filter: argv","value | filter argv"):e[e.length-1].push(t)),e}),[]).map((function(e){return r._split(e)}));i=d.reduce((function(e,t){var n=t.shift();return t.unshift(e),"$imports."+n+"("+t.join(",")+")"}),d.shift().join(" ").trim())}l=l||"escape"}return u.code=i,u.output=l,u},_split:function(e){e=e.filter((function(e){var t=e.type;return"whitespace"!==t&&"comment"!==t}));for(var t=0,n=e.shift(),r=/\]|\)/,i=[[n]];t<e.length;){var o=e[t];"punctuator"===o.type||"punctuator"===n.type&&!r.test(n.value)?i[i.length-1].push(o):i.push([o]),n=o,t++}return i.map((function(e){return e.map((function(e){return e.value})).join("")}))}};e.exports=r},function(e,t,n){"use strict";e.exports={test:/<%(#?)((?:==|=#|[=-])?)[ \t]*([\w\W]*?)[ \t]*(-?)%>/,use:function(e,t,n,r){return n={"-":"raw","=":"escape","":!1,"==":"raw","=#":"raw"}[n],t&&(r="/*"+r+"*/",n=!1),{code:r,output:n}}}},function(e,t,n){"use strict";var r="undefined"==typeof window;e.exports=function(e,t){if(r){var i,o=n(20).minify,s=t.htmlMinifierOptions,a=t.rules.map((function(e){return e.test}));(i=s.ignoreCustomFragments).push.apply(i,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a)),e=o(e,s)}return e}},function(e,t){!function(e){e.noop=function(){}}("object"==typeof e&&"object"==typeof e.exports?e.exports:window)},function(e,t,n){"use strict";var r="undefined"==typeof window,i=/^\.+\//;e.exports=function(e,t){if(r){var o=n(3),s=t.root,a=t.extname;if(i.test(e)){var u=t.filename,c=u&&e!==u?o.dirname(u):s;e=o.resolve(c,e)}else e=o.resolve(s,e);o.extname(e)||(e+=a)}return e}},function(e,t,n){"use strict";var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.message));return n.name="TemplateError",n.message=function(e){var t=e.name,n=e.source,r=e.path,i=e.line,o=e.column,s=e.generated,a=e.message;if(!n)return a;var u=n.split(/\n/),c=Math.max(i-3,0),l=Math.min(u.length,i+3),f=u.slice(c,l).map((function(e,t){var n=t+c+1;return(n===i?" >> ":"    ")+n+"| "+e})).join("\n");return(r||"anonymous")+":"+i+":"+o+"\n"+f+"\n\n"+t+": "+a+(s?"\n   generated: "+s:"")}(e),Error.captureStackTrace&&Error.captureStackTrace(n,n.constructor),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports=r},function(e,t,n){"use strict";e.exports=n(2)}])},function(e,t,n){"use strict";n.r(t);n(0);var r=function(e){let t=e.tpl?template.compile(e.tpl)(e.data):template(e.id,e.data),n=document.getElementById(e.targit);e.isAppend?function(e,t){let n=document.createElement("div").innerHTML=t;e.appendChild(n.lastChild),n=null}(n,t):n.innerHTML=t,e.callback&&"function"==typeof e.callback&&e.callback(e.data)};class i{constructor(e,t,n){e[t]=null===e[t]||void 0===e[t]?"":e[t],e[t]=this.resolve(e[t]),n&&(this.renderFun=n),"function"==typeof this.renderFun&&this.renderFun()}$set(e,t,n,r){n[t]=this.resolve(e,t,n),this.renderFun=r||null}define(e,t,n,r){let i={enumerable:!0,configurable:!0},o=this;e?(i.writable=!0,i.value=r||function(...e){"push"===n&&(e=o.proxy(e));const t=Array.prototype[n].apply(this,e);return o.render("from defin array"),t}):(i.get=function(){return r},i.set=function(e){if(e===r||e!=e&&value!=value)return;let t=typeof r!=typeof e;null==e&&(e=""),t&&e&&"object"==typeof e&&(Array.isArray(e)?o.observeArr(e):e=o.proxy(e)),r=e,o.render("from defin object")}),Object.defineProperty(t,n,i)}observeArr(e){e.forEach((t,n)=>e[n]=this.resolve(t));const t=["push","pop","shift","unshift","splice","reverse","sort"],n=Object.create(Array.prototype);return t.map(e=>this.define(!0,n,e)),"__proto__"in{}?e.__proto__=n:t.map(r=>this.define(!0,e,t[r],n[t[r]])),e}proxy(e){!(e instanceof File)&&this.initDrive(e);let t=this;return new Proxy(e,{set(e,n,r,i){let o=Reflect.set(e,n,r,i);return"object"==typeof e[n]&&null!==e[n]?(Array.isArray(e[n])?t.observeArr(e[n]):r=t.proxy(e[n]),o=Reflect.set(e,n,r,i)):t.define(!1,e,n,r),t.render("from proxy"),o}})}initDrive(e){if(e instanceof File)e=this.proxy(e);else for(var t in e)(null===e[t]||void 0===e[t])&&(e[t]=""),"object"==typeof e[t]?Array.isArray(e[t])?this.observeArr(e[t]):e[t]=this.proxy(e[t]):((null===e[t]||void 0===e[t])&&(e[t]=""),this.define(!1,e,t,e[t]))}resolve(e,t,n){return"object"!=typeof e||null===e?(t&&n&&this.define(!1,n,t,e[t]),e):Array.isArray(e)?this.observeArr(e):this.proxy(e)}render(e){"function"==typeof this.renderFun&&this.renderFun()}}const o=class{constructor(e){this.initMinx(this),this.initData(e.data,this),this.initMethods(e.methods,this),e.onStart&&"function"==typeof e.onStart&&e.onStart.call(this),this.defRender(e.staticRender,this),this.dirvePage(e.bindView,this),this.$refs={},e.isComp||(window.hpage=this),this.components.forEach(e=>{this[e.name]=e.load(this)}),this.getElementByAttribute(this,"ref"),e.finish&&"function"==typeof e.finish&&e.finish.call(this),this.minx.forEach(e=>{e.finish&&"function"==typeof e.finish&&e.finish.call(this)})}initData(e,t){for(var n in e)!(n in t)&&(t[n]=e[n])}initMethods(e,t){for(var n in t.methods=t.methods||{},t._methods=Object.assign(t.methods,e),e)!(n in t)&&(t[n]=e[n])}initMinx(e){e.methods=e.methods||{},this.setRefs(e),this.minx.forEach(t=>{this.initData(t.data,e),this.initMethods(t.methods,e),this.defRender(t.staticRender,e),this.dirvePage(t.bindView,e),t.onStart&&"function"==typeof t.onStart&&t.onStart.call(this)})}setRefs(e){e.$refs={},this.getElementByAttribute(e,"ref")}loadMinx(e){if(e in this)return this.setRefs(this[e]),this[e].beforeMinx(),this[e].reload(),void this[e].finish();this[e]=this[e]||{};let t=this[e];t.$parent=t.$parent||this,t.methods=t.methods||{},this.setRefs(t),t.beforeMinx="beforeMinx"in this.afterMinx[e]&&"function"==typeof this.afterMinx[e].beforeMinx?()=>this.afterMinx[e].beforeMinx.call(this[e],this):()=>{},t.beforeMinx(),this.initData(this.afterMinx[e].data,t),this.initMethods(this.afterMinx[e].methods,t),this.defRender(this.afterMinx[e].staticRender,t),t.reload=this.afterMinx[e].onStart&&"function"==typeof this.afterMinx[e].onStart?()=>this.afterMinx[e].onStart.call(this[e],this):()=>{},t.reload(),this.dirvePage(this.afterMinx[e].bindView,t),t.finish=this.afterMinx[e].finish&&"function"==typeof this.afterMinx[e].finish?()=>this.afterMinx[e].finish.call(this[e],this):()=>{},t.finish()}getElementByAttribute(e,t,n){(n=n||document.body).hasAttribute(t)&&(e.$refs[n.getAttribute(t)]=n);for(var r=n.children,i=r.length;i--;)this.getElementByAttribute(e,t,r[i])}defRender(e,t){e&&Array.isArray(e)&&e.forEach(e=>{let n={targit:e.to,id:e.from,tpl:e.tpl||null,data:t,isAppend:e.isAppend||!1,callback:e.result||null};r(n)})}dirvePage(e,t){e=e||[],t._bindView=t._bindView||[],e.forEach(e=>{t._bindView.push(Object.assign({},e))}),t._bindView.forEach(e=>{let n=[];e.renders.forEach(r=>{let i={targit:r.to,id:r.from,tpl:r.tpl||e.tpl||null,data:{},isAppend:r.isAppend||e.isAppend||!1,callback:r.result||e.result||null};i.data[e.bind]=t[e.bind],n.push(i)});!function(e,t,n){let r=r||new i(e,t,n)}(t,e.bind,()=>{n.forEach(e=>{r(e)})})})}};o.prototype.components=[],o.prototype.minx=[],o.prototype.afterMinx={},o.use=function(e){if(!e.name)return console.warn("注册的组件缺少name，本次注册无效！");if(o.prototype.components.some(t=>t.name===e.name))return console.warn(`组件name=${e.name}已被注册，本次注册无效！`);let t=Object.assign({isComp:!0},e);o.prototype.components.push({name:e.name,load:function(e){let n=Object.assign({$parent:e},t);return new o(n)}})},o.minx=function(e){o.prototype.minx.push(e)},o.afterMinx=function(e,t){e in o.prototype.afterMinx?console.error(`afterMinx 已注册有 ${e} 实例`):o.prototype.afterMinx[e]=t},o.prototype.toData=function(e,t){if(!t)return console.error("toData 方法未找到入口key!");let n=this;if(!t.includes("."))return void(t in this&&(this[t]=e));let r=t.split(".");r.forEach((t,i)=>{i===r.length-1?n[t]=e:t in n&&(n=n[t])})};t.default=o}]);